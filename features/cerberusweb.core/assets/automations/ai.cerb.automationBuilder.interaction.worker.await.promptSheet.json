{
    "name": "ai.cerb.automationBuilder.interaction.worker.await.promptSheet",
    "description": "",
    "extension_id": "cerb.trigger.interaction.internal",
    "script": "start:\r\n  await:\r\n    form:\r\n      title: Prompt with a sheet\r\n      elements:\r\n        sheet/prompt_style:\r\n          label: What kind of sheet do you want to build?\r\n          required@bool: yes\r\n          data:\r\n            custom:\r\n              key: custom\r\n              name: Custom\r\n              description: Provide your own data\r\n            record_chooser:\r\n              key: record_chooser\r\n              name: Record chooser\r\n              description: Select records of a given type\r\n            record_types:\r\n              key: record_types\r\n              name: Record types\r\n              description: Select a record type\r\n          limit: 10\r\n          default: custom\r\n          schema:\r\n            layout:\r\n              style: grid\r\n              headings@bool: no\r\n              paging@bool: no\r\n            columns:\r\n              selection/key:\r\n                params:\r\n                  mode: single\r\n                  label_key: name\r\n              text/description:\r\n  \r\n  decision/style:\r\n    outcome/custom:\r\n      if@bool: {{prompt_style == 'custom'}}\r\n      then:\r\n        await:\r\n          form:\r\n            elements:\r\n              sheet/prompt_mode:\r\n                label: Row selection:\r\n                required@bool: yes\r\n                data:\r\n                  none:\r\n                    key: none\r\n                    name: None\r\n                    description: No selection\r\n                  single:\r\n                    key: single\r\n                    name: Single\r\n                    description: Select a single record\r\n                  option2:\r\n                    key: multiple\r\n                    name: Multiple\r\n                    description: Select multiple records\r\n                limit: 5\r\n                default: single\r\n                schema:\r\n                  layout:\r\n                    headings@bool: no\r\n                    paging@bool: no\r\n                    style: grid\r\n                  columns:\r\n                    selection/key:\r\n                      params:\r\n                        mode: single\r\n                    text/name:\r\n                      params:\r\n                        bold@bool: yes\r\n                    text/description:\r\n            \r\n        return:\r\n          snippet@text:\r\n            sheet/prompt_{{random_string(6)|lower}}:\r\n              label: Label:\r\n              required@bool: yes\r\n              data:\r\n                option1:\r\n                  key: option1\r\n                  name: Option 1\r\n                  description: This is a description of option one\r\n                option2:\r\n                  key: option2\r\n                  name: Option 2\r\n                  description: This is a description of option two\r\n              limit: 5\r\n              default: option1\r\n              schema:\r\n                layout:\r\n                  headings@bool: no\r\n                  paging@bool: no\r\n                columns:\r\n                  {% if prompt_mode != 'none' -%}\r\n                  selection/id:\r\n                    params:\r\n                      mode: {{prompt_mode}}\r\n                  {% endif -%}\r\n                  text/name:\r\n                    params:\r\n                      bold@bool: yes\r\n                  text/description:\r\n    \r\n    outcome/record_chooser:\r\n      if@bool: {{prompt_style == 'record_chooser'}}\r\n      then:\r\n        await:\r\n          form:\r\n            elements:\r\n              sheet/prompt_record_type:\r\n                label: What record type?\r\n                required@bool: yes\r\n                data:\r\n                  automation:\r\n                    uri: cerb:automation:cerb.data.record.types\r\n                limit: 50\r\n                default: ticket\r\n                schema:\r\n                  layout:\r\n                    headings@bool: no\r\n                    paging@bool: yes\r\n                    filtering@bool: yes\r\n                    style: grid\r\n                  columns:\r\n                    selection/uri:\r\n                      params:\r\n                        mode: single\r\n                        label_key: label_plural\r\n              sheet/prompt_mode:\r\n                label: Row selection:\r\n                required@bool: yes\r\n                data:\r\n                  none:\r\n                    key: none\r\n                    name: None\r\n                    description: No selection\r\n                  single:\r\n                    key: single\r\n                    name: Single\r\n                    description: Select a single record\r\n                  option2:\r\n                    key: multiple\r\n                    name: Multiple\r\n                    description: Select multiple records\r\n                limit: 5\r\n                default: single\r\n                schema:\r\n                  layout:\r\n                    headings@bool: no\r\n                    paging@bool: no\r\n                    style: grid\r\n                  columns:\r\n                    selection/key:\r\n                      params:\r\n                        mode: single\r\n                    text/name:\r\n                      params:\r\n                        bold@bool: yes\r\n                    text/description:\r\n        return:\r\n          snippet@text:\r\n            sheet/prompt_record:\r\n              label: Label:\r\n              required@bool: yes\r\n              data:\r\n                automation:\r\n                  uri: cerb:automation:cerb.data.records\r\n                  inputs:\r\n                    record_type: {{prompt_record_type}}\r\n                    # [TODO] Your search query goes here\r\n                    query@text:\r\n              limit: 10\r\n              #default: option1\r\n              schema:\r\n                layout:\r\n                  headings@bool: no\r\n                  paging@bool: no\r\n                  filtering@bool: yes\r\n                  title_column: _label\r\n                columns:\r\n                  {% if prompt_mode != 'none' -%}\r\n                  selection/id:\r\n                    params:\r\n                      mode: {{prompt_mode}}\r\n                  {% endif -%}\r\n                  {% if prompt_record_type == 'ticket' -%}\r\n                  card/_label:\r\n                    params:\r\n                      bold@bool: yes\r\n                      image@bool: yes\r\n                  card/owner__label:\r\n                  card/group__label:\r\n                  text/status:\r\n                  date/updated:\r\n                  {% else -%}\r\n                  card/_label:\r\n                    params:\r\n                      bold@bool: yes\r\n                      #image@bool: yes\r\n                  {% endif -%}\r\n\r\n    outcome/record_types:\r\n      if@bool: {{prompt_style == 'record_types'}}\r\n      then:\r\n        await:\r\n          form:\r\n            title: Prompt for record type\r\n            elements:\r\n              sheet/prompt_mode:\r\n                label: Row selection:\r\n                required@bool: yes\r\n                data:\r\n                  none:\r\n                    key: none\r\n                    name: None\r\n                    description: No selection\r\n                  single:\r\n                    key: single\r\n                    name: Single\r\n                    description: Select a single record type\r\n                  option2:\r\n                    key: multiple\r\n                    name: Multiple\r\n                    description: Select multiple record types\r\n                limit: 5\r\n                default: single\r\n                schema:\r\n                  layout:\r\n                    headings@bool: no\r\n                    paging@bool: no\r\n                    style: grid\r\n                  columns:\r\n                    selection/key:\r\n                      params:\r\n                        mode: single\r\n                    text/name:\r\n                      params:\r\n                        bold@bool: yes\r\n                    text/description:\r\n        return:\r\n          snippet@text:\r\n            sheet/prompt_record_type:\r\n              label: Label:\r\n              required@bool: yes\r\n              data:\r\n                automation:\r\n                  uri: cerb:automation:cerb.data.record.types\r\n              limit: 100\r\n              schema:\r\n                layout:\r\n                  headings@bool: no\r\n                  paging@bool: no\r\n                  filtering@bool: yes\r\n                  title_column: label_singular\r\n                  style: grid\r\n                columns:\r\n                  {% if prompt_mode != 'none' -%}\r\n                  selection/id:\r\n                    params:\r\n                      mode: {{prompt_mode}}\r\n                  {% endif -%}\r\n                  text/label_singular:\r\n                    params:\r\n                      bold@bool: yes\r\n                      #image@bool: yes\r\n",
    "policy_kata": "",
    "created_at": 1600722810,
    "updated_at": 1640116461
}