{
    "name": "ai.cerb.metricBuilder.dimension",
    "description": "Helper for adding dimensions to a metric",
    "extension_id": "cerb.trigger.interaction.internal",
    "script": "start:\r\n  await/type:\r\n    form:\r\n      title: Add Dimension\r\n      elements:\r\n        text/prompt_name:\r\n          label: Name:\r\n          required@bool: yes\r\n          type: text\r\n          placeholder: (letters, numbers, underscores)\r\n          max_length: 64\r\n          validation@raw:\r\n            {% if prompt_name|alphanum('_') != prompt_name %}\r\n            'Name:' may only contain letters, numbers, and underscores.\r\n            {% endif %}\r\n          \r\n        sheet/prompt_type:\r\n          label: Type:\r\n          required@bool: yes\r\n          data:\r\n            text:\r\n              key: text\r\n              name: Text\r\n              description: A single line of descriptive text (e.g. labels)\r\n            number:\r\n              key: number\r\n              name: Number\r\n              description: A positive whole number\r\n            record:\r\n              key: record\r\n              name: Record Link\r\n              description: A link to a related record\r\n            extension:\r\n              key: extension\r\n              name: Extension\r\n              description: A platform extension point (e.g. cerb.trigger)\r\n          limit: 5\r\n          default: text\r\n          schema:\r\n            layout:\r\n              headings@bool: no\r\n              paging@bool: no\r\n              style: columns\r\n            columns:\r\n              selection/key:\r\n                params:\r\n                  mode: single\r\n                  label_key: name\r\n              text/description:\r\n  \r\n  decision/type:\r\n    outcome/record:\r\n      if@bool: {{prompt_type == 'record'}}\r\n      then:\r\n        await/recordType:\r\n          form:\r\n            title: Add record type dimension\r\n            elements:\r\n              sheet/prompt_record_type:\r\n                label: Type:\r\n                required@bool: yes\r\n                data:\r\n                  automation:\r\n                    uri: cerb:automation:cerb.data.record.types\r\n                limit: 100\r\n                schema:\r\n                  layout:\r\n                    headings@bool: no\r\n                    paging@bool: no\r\n                    filtering@bool: yes\r\n                    title_column: label_singular\r\n                    style: grid\r\n                  columns:\r\n                    selection/uri:\r\n                      params:\r\n                        mode: single\r\n                    text/label_singular:\r\n                      params:\r\n                        bold@bool: yes\r\n                        #image@bool: yes\r\n        return:\r\n          snippet@text:\r\n            record/{{prompt_name}}:\r\n              record_type: {{prompt_record_type}}\r\n            \r\n    \r\n    outcome/extension:\r\n      if@bool: {{prompt_type == 'extension'}}\r\n      then:\r\n        return:\r\n          snippet@text:\r\n            extension/{{prompt_name}}:\r\n            \r\n\r\n    outcome/number:\r\n      if@bool: {{prompt_type == 'number'}}\r\n      then:\r\n        return:\r\n          snippet@text:\r\n            number/{{prompt_name}}:\r\n            \r\n          \r\n    outcome/text:\r\n      then:\r\n        return:\r\n          snippet@text:\r\n            text/{{prompt_name}}:\r\n            ",
    "policy_kata": "commands:\r\n  # [TODO] Specify a command policy here (use Ctrl+Space for autocompletion)\r\n  ",
    "created_at": 1640111237,
    "updated_at": 1640131018
}