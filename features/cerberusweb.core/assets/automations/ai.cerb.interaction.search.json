{
    "name": "ai.cerb.interaction.search",
    "description": "Global search menu",
    "extension_id": "cerb.trigger.interaction.internal",
    "script": "inputs:\r\n  text/record_type:\r\n    type: freeform\r\n\r\nstart:\r\n  decision/hasRecordType:\r\n    outcome/yes:\r\n      if@bool: {{inputs.record_type}}\r\n      then:\r\n        return:\r\n          record_type@key: inputs:record_type\r\n    outcome/no:\r\n      then:\r\n        data.query/recordTypes:\r\n          output: results\r\n          inputs:\r\n            query@text:\r\n              type: record.types\r\n              options:[search]\r\n              format: dictionaries\r\n          on_success:\r\n            await:\r\n              form:\r\n                title: Search which record type?\r\n                elements:\r\n                  sheet/prompt_record_type:\r\n                    required@bool: yes\r\n                    data@key: results:data\r\n                    limit: 150\r\n                    schema:\r\n                      layout:\r\n                        headings@bool: no\r\n                        filtering@bool: yes\r\n                        paging@bool: yes\r\n                        style: columns\r\n                      columns:\r\n                        selection/id:\r\n                          params:\r\n                            mode: single\r\n                            label_key: label_plural\r\n                  submit:\r\n                    continue@bool: no\r\n                    reset@bool: no\r\n      \r\n            return:\r\n              record_type@key: prompt_record_type\r\n  ",
    "policy_kata": "commands:\r\n  data.query:\r\n    allow@bool: yes",
    "created_at": 1632524312,
    "updated_at": 1639700271
}